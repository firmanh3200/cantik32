<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Web Cantik</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        body {
            font-family: sans-serif;
            background-color: #f8f9fa;
        }
        .container {
            max-width: 1200px;
            margin: 20px auto;
        }
        .card {
            margin-bottom: 20px;
            border: none;
            box-shadow: 0 0 15px rgba(0, 0, 0, 0.3);
            display: flex;
            flex-direction: column;
        }
        .card-body {
            padding: 15px;
             flex: 1;
           display: flex;
            flex-direction: column;
        }
        .card-header {
            background-color: #ff914d;
			color: white;
            padding: 10px;
            text-align: center;
            font-weight: bold;
        }
        .card-number {
            font-size: 2.5rem;
            font-weight: bold;
            margin-bottom: 5px;
        }
        .chart-container {
            position: relative;
            width: 100%;
			height: 300px;
            align-items: center;
            justify-content: center;
          }
        .sticky-header {
			background-color: white; /* Warna latar belakang */
			width: 100%; /* Lebar penuh */
			position: sticky; /* Menggunakan sticky */
			top: 0; /* Menempel di bagian atas */
			z-index: 1000; /* Agar tetap di atas elemen lain */
		}

    </style>
</head>
<body>
    <div class="container">
        <div class="sticky-header">
			<div class="row">
				<div class="col-md-9">
					<div class="card text-center" style="background-color: #ff914d; color: white;">
						<div class="card-body">
							<h1 class="card-title"><strong>ADMINISTRASI KEPENDUDUKAN</strong></h1>
							<h1 class="card-title">KELURAHAN BALONG GEDE</h1>
						</div>
					</div>
				</div>
				<div class="col-md-3">
					<div class="card text-center" style="background-color: #e9ecef; color: black;">
						<div class="card-body">
							<h2><strong>DESEMBER</strong></h2>
							<h1 class="card-title"><strong>2024</strong></h1>
						</div>
					</div>
				</div>
			</div>
		</div>
		<br>
		<!-- METRIK BARIS 1 -->
        <div class="row">
            <div class="col-md-3">
                <div class="card text-center" style="background-color: #0f7dc4; color: white;">
                    <div class="card-body">
                        <div class="card-number">8.184</div>
                        <p class="card-text">Penduduk</p>
                    </div>
                </div>
            </div>
            <div class="col-md-3">
                <div class="card text-center" style="background-color: #6abf47; color: white;">
                     <div class="card-body">
                        <div class="card-number">4.078</div>
                        <p class="card-text">Laki-laki</p>
                    </div>
                </div>
            </div>
            <div class="col-md-3">
                 <div class="card text-center" style="background-color: #f2bb0d; color: white;">
                    <div class="card-body">
                        <div class="card-number">4.106</div>
                        <p class="card-text">Perempuan</p>
                    </div>
                </div>
            </div>
             <div class="col-md-3">
                <div class="card text-center" style="background-color: #78229c; color: white;">
                    <div class="card-body">
                        <div class="card-number">2.935</div>
                        <p class="card-text">KK</p>
                    </div>
                </div>
            </div>
        </div>
		
		<!-- PIRAMIDA PENDUDUK DAN PENDIDIKAN -->
        <div class="row d-flex align-items-stretch">
           <div class="col-md-6">
              <div class="card">
                   <div class="card-header">Piramida Penduduk</div>
                   <div class="card-body">
                       <div class="chart-container">
                           <canvas id="ageChart" style="height: 100%; width: 100%;"></canvas>
                         </div>
                    </div>
                </div>
            </div>
             <div class="col-md-6">
                 <div class="card">
                     <div class="card-header">Tingkat Pendidikan</div>
                     <div class="card-body">
                       <div class="chart-container">
                           <canvas id="educationChart" style="height: 100%; width: 100%;"></canvas>
                         </div>
                     </div>
                </div>
             </div>
        </div>

        <div class="row d-flex align-items-stretch">
            <div class="col-md-6">
                 <div class="card">
                      <div class="card-header">Agama</div>
                       <div class="card-body">
                         <div class="chart-container">
                            <canvas id="religionChart" style="height: 100%; width: 100%;"></canvas>
                         </div>
                       </div>
                  </div>
            </div>
            <div class="col-md-6">
                <div class="card">
                    <div class="card-header">Pekerjaan</div>
                    <div class="card-body">
                        <div class="chart-container">
                           <canvas id="jobChart" style="height: 100%; width: 100%;"></canvas>
                         </div>
                    </div>
               </div>
           </div>
        </div>

        <div class="row d-flex align-items-stretch">
            <div class="col-md-6">
                 <div class="card">
                      <div class="card-header">Golongan Darah</div>
                       <div class="card-body">
                         <div class="chart-container">
                            <canvas id="goldarChart" style="height: 100%; width: 100%;"></canvas>
                         </div>
                       </div>
                  </div>
            </div>
            <div class="col-md-6">
                <div class="card">
                    <div class="card-header">Status Perkawinan</div>
                    <div class="card-body">
                        <div class="chart-container">
                           <canvas id="kawinChart" style="height: 100%; width: 100%;"></canvas>
                         </div>
                    </div>
               </div>
           </div>
        </div>
    </div>
    <script>
        const ageChartCanvas = document.getElementById('ageChart');
		const ageChart = new Chart(ageChartCanvas, {
			type: 'bar',
			data: {
				labels: ['75+', '70-74', '65-69', '60-64', '55-59', '50-54', '45-49', '40-44', '35-39', '30-34', '25-29', '20-24', '15-19', '10-14', '5-9', '0-4'],
				datasets: [{
					label: 'Laki-laki',
					data: [152, 133, 149, 198, 242, 267, 297, 356, 301, 245, 298, 280, 277, 336, 323, 220],
					backgroundColor: '#0f7dc4',
					stack: 'Stack 0',
				}, {
					label: 'Perempuan',
					data: [-224, -160, -192, -228, -230, -260, -311, -323, -296, -282, -279, -287, -283, -296, -258, -201],
					backgroundColor: '#f2bb0d',
					stack: 'Stack 0',
				}]
			},
			options: {
				indexAxis: 'y',
				scales: {
					x: {
						title: {
							display: true,
							text: 'Jumlah Penduduk'
						},
						position: 'bottom',
						ticks:{
							callback: function(value) {
								return Math.abs(value);
							}
						},
						grid: {
							display: false // Menghilangkan garis grid
						}
					},
					y: {
						title: {
							display: true,
							text: 'Rentang Usia'
						},
						position: 'left',
						grid: {
							display: false // Menghilangkan garis grid
						}
					}
				},
				plugins: {
					title: {
						display: false
					},
					legend: {
						display: true,
						position: 'bottom' // Memindahkan legenda ke bawah
					}
				},
				responsive: true,
				maintainAspectRatio: false,
			}
		});

    const educationChartCanvas = document.getElementById('educationChart');
    const educationChart = new Chart(educationChartCanvas, {
        type: 'doughnut',
        data: {
            labels: ['Tidak/Belum Sekolah', 'Belum Tamat SD', 'Tamat SD', 'SLTP', 'SLTA', 'D1 dan D2', 'D3', 'S1', 'S2', 'S3'],
            datasets: [{
                 data: [1179, 655, 486, 953, 3394, 52, 285, 1097, 71, 12],
                backgroundColor: ['#003f5c','#2f4b7c','#665191','#a05195','#d45087','#f95d6a','#ff7c43','#ffa600']
             }]
        },
           options: {
            responsive: true,
            maintainAspectRatio: false,
            plugins: {
                 legend: {
                  display: true,
                  position: 'right'
                 },
                 title: {
                  display: false
                 }
               }
        }
    });

    const religionChartCanvas = document.getElementById('religionChart');
    const religionChart = new Chart(religionChartCanvas, {
         type: 'doughnut',
        data: {
            labels: ['Islam', 'Kristen', 'Katholik', 'Hindu', 'Buddha', 'Konghuchu', 'Kepercayaan Tuhan YME'],
            datasets: [{
                data: [6374, 1122, 472, 9, 204, 3, 0],
                 backgroundColor: ['#6abf47','#0f7dc4','#f2bb0d','#78229c', '#ff0000', '#ff33', '#dd']
            }]
        },
        options: {
            responsive: true,
            maintainAspectRatio: false,
            plugins: {
                 legend: {
                  display: true,
                  position: 'right'
                 },
                 title: {
                  display: false
                 }
               }
        }
    });

   const jobChartCanvas = document.getElementById('jobChart');
    const jobChart = new Chart(jobChartCanvas, {
        type: 'bar',
        data: {
            labels: ['Pelajar dan Mahasiswa', 'Belum/Tidak Bekerja', 'Wiraswasta', 'Mengurus Rumah Tangga', 'Pensiunan', 'Guru', 'Perdagangan', 'Pengacara', 'Perawat'],
            datasets: [{
                label: 'Jiwa',
                data: [1741, 1334, 1021, 182, 60, 32, 10, 5, 2],
                backgroundColor: '#0f7dc4',
            }]
        },
         options: {
            indexAxis: 'y',
             scales: {
                x: {
                    title: {
                        display: true,
                         text: 'Jumlah Penduduk'
                    },
                    position: 'bottom',
                   
                },
                y: {
                     title: {
                       display: true,
                       text: 'Pekerjaan'
                   },
                    position: 'left'
                }
            },
            plugins: {
                title: {
                    display: false
                },
				legend: {
						display: false,
				}		
            },
           responsive: true,
            maintainAspectRatio: false
        }
    });

    const goldarChartCanvas = document.getElementById('goldarChart');

        // Fungsi untuk menghasilkan warna acak (ganti dengan logika Anda)
        function getRandomColor() {
            const letters = '5678901234ABCDEF';
            let color = '#';
            for (let i = 0; i < 6; i++) {
            color += letters[Math.floor(Math.random() * 16)];
            }
            return color;
        }

        const goldarChart = new Chart(goldarChartCanvas, {
            type: 'bar',
            data: {
                labels: ['A', 'B', 'AB', 'O', 'A+', 'A-', 'B+', 'B-', 'AB+', 'AB-', 'O+', 'O-'], // Label di sini!
                datasets: [
                {
                    data: [1238, 952, 511, 1888, 34, 0, 32, 1, 7, 2, 18, 4],
                    // borderColor: 'green',  // Optional: Warna garis batas
                    borderWidth: 1,
                    spacing: 0,
                    backgroundColor: [ // Ganti dengan array warna yang sesuai atau fungsi
                        getRandomColor(),
                        getRandomColor(),
                        getRandomColor(),
                        getRandomColor()
                    ],
                    hoverOffset: 4 // Jarak saat dihover
                }
                ],
            },
            options: {
                responsive: true,
                plugins: {
                title: {
                    display: false,
                    text: 'My treemap chart' 
                },
                legend: {
                    display: true,
                    position: 'bottom' // Tampilkan legenda
                }
                }
            }
        });

    const kawinChartCanvas = document.getElementById('kawinChart');

        // Fungsi untuk menghasilkan warna acak (ganti dengan logika Anda)
        function getRandomColor() {
            const letters = '5678901234ABCDEF';
            let color = '#';
            for (let i = 0; i < 6; i++) {
            color += letters[Math.floor(Math.random() * 16)];
            }
            return color;
        }

        const kawinChart = new Chart(kawinChartCanvas, {
            type: 'pie',
            data: {
                labels: ['Belum Kawin', 'Kawin', 'Cerai Mati', 'Cerai Hidup'], // Label di sini!
                datasets: [
                {
                    data: [3731, 3667, 482, 304],
                    // borderColor: 'green',  // Optional: Warna garis batas
                    borderWidth: 1,
                    spacing: 0,
                    backgroundColor: [ // Ganti dengan array warna yang sesuai atau fungsi
                        getRandomColor(),
                        getRandomColor(),
                        getRandomColor(),
                        getRandomColor()
                    ],
                    hoverOffset: 4 // Jarak saat dihover
                }
                ],
            },
            options: {
                responsive: true,
                plugins: {
                title: {
                    display: false,
                    text: 'My treemap chart' 
                },
                legend: {
                    display: true,
                    position: 'bottom' // Tampilkan legenda
                }
                }
            }
        });

    </script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>